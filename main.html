<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My CV Panel - Seafarer Application</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <style>
    @media (max-width: 768px) {
      .sidebar {
        border-right: none;
        border-bottom: 1px solid #ccc;
        padding: 10px;
      }

      .sidebar a {
        display: block;
        padding: 8px 10px;
        font-size: 0.95rem;
      }

      .content {
        padding: 10px;
      }

      iframe {
        height: 70vh;
      }

      #saveBtnContainer {
        text-align: center;
        margin-top: 15px;
      }

      .navbar .form-select {
        font-size: 0.85rem;
      }

      .navbar .btn {
        font-size: 0.85rem;
      }
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">🌝 Seafarer Panel</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarContent">
        <ul class="navbar-nav me-auto">
          <li class="nav-item"><a class="nav-link" href="job-board.html">Job Board</a></li>
          <li class="nav-item"><a class="nav-link active" href="main.html">My CV</a></li>
          <li class="nav-item"><a class="nav-link" href="my-applications.html">My Applications</a></li>
        </ul>
        <div class="dropdown me-2">
          <button class="btn btn-outline-light dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">Profile</button>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="change-password.html">Change Password</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item text-danger" href="#" onclick="logout()">Log Out</a></li>
          </ul>
        </div>
        <select id="languageSwitcher" class="form-select form-select-sm" style="width:auto;">
          <option value="en">🇬🇧 English</option>
          <option value="tr">🇹🇷 Türkçe</option>
        </select>
      </div>
    </div>
  </nav>

  <div class="container-fluid">
    <div class="row flex-column flex-md-row">
      <div class="col-md-3 sidebar" id="sidebarLinks">
        <a href="#" data-page="personal-details.html">🧍 Personal Details</a>
        <a href="#" data-page="contact.html">📞 Contact</a>
        <a href="#" data-page="qualifications.html">🎓 Qualifications</a>
        <a href="#" data-page="documents.html">📄 Documents</a>
        <a href="#" data-page="certificates.html">📋 Certificates</a>
        <a href="#" data-page="licenses.html">📜 Licenses</a>
        <a href="#" data-page="vaccinations.html">💉 Vaccinations</a>
        <a href="#" data-page="visas.html">🛂 Visas</a>
        <a href="#" data-page="flag-books.html">🚩 Flag Books</a>
        <a href="#" data-page="sea-service.html">⚓ Sea Service</a>
        <a href="#" data-page="experience.html">⏳ Experience</a>
        <a href="#" data-page="special-skills.html">🛠️ Special Skills</a>
        <a href="#" data-page="references.html">📇 References</a>
        <a href="#" data-page="education.html">🏫 Education</a>
        <a href="#" data-page="finish.html">✅ Finish</a>
      </div>
      <div class="col-md-9 content">
        <iframe id="contentFrame" src="personal-details.html"></iframe>
        <div id="saveBtnContainer" class="text-end mt-3">
          <button class="btn btn-primary" onclick="submitIframeForm()">Save</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    function logout() {
      localStorage.removeItem("role");
      window.location.href = "index.html";
    }

    function loadPage(page, linkElement) {
      document.getElementById("contentFrame").src = page;
      document.querySelectorAll("#sidebarLinks a").forEach(a => a.classList.remove("active"));
      linkElement.classList.add("active");
    }

    function submitIframeForm() {
      const iframe = document.getElementById("contentFrame");
      const innerForm = iframe.contentWindow.document.querySelector("form");
      if (innerForm) innerForm.requestSubmit();
    }

    document.querySelectorAll("#sidebarLinks a").forEach(link => {
      link.addEventListener("click", function(e) {
        e.preventDefault();
        const page = this.getAttribute("data-page");
        loadPage(page, this);
      });
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
