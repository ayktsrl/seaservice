<nav class="navbar navbar-expand-lg navbar-dark bg-dark px-3">
  <a class="navbar-brand" href="#" onclick="goToDashboard()">âš“ Seafarer App</a>
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarContent">
    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
      <li class="nav-item">
        <a class="nav-link" href="job-board.html">Job Board</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="seafarer-dashboard.html">My CV</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="my-applications.html">My Applications</a>
      </li>
    </ul>

    <div class="d-flex align-items-center gap-2 mt-2 mt-lg-0">
      <select id="languageSwitcher" class="form-select form-select-sm">
        <option value="en">ðŸ‡¬ðŸ‡§</option>
        <option value="tr">ðŸ‡¹ðŸ‡·</option>
      </select>
      <button class="btn btn-outline-light btn-sm" onclick="logout()">Log Out</button>
    </div>
  </div>
</nav>

<script type="module">
  import { auth } from './firebase-config.js';

  window.goToDashboard = function () {
    const role = localStorage.getItem("role");
    if (role === "seafarer") {
      window.location.href = "seafarer-dashboard.html";
    } else if (role === "company") {
      window.location.href = "company-dashboard.html";
    } else {
      window.location.href = "index.html";
    }
  };

  window.logout = function () {
    localStorage.removeItem("role");
    localStorage.removeItem("userId");
    if (auth && auth.signOut) {
      auth.signOut().then(() => {
        window.location.href = "index.html";
      }).catch((err) => {
        console.error("Logout error:", err);
        alert("Logout failed");
      });
    } else {
      window.location.href = "index.html";
    }
  };
</script>
